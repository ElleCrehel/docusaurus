---
sidebar_position: 5
sidebar_label: Deployment
title: Deploy a new Release
description: Documentation on how to deploy a release of the HER package
tags: [Deployment, Front end, Back end, Releases, Fixes]
hide_table_of_contents: true
---

# General

At the end of every sprint, we will release a new version of the HER package with the newest features. This release contains the feature developments done during that sprint.
Next to the feature release a fix release can be created if certain things need to be fixed more quickly.

Every release one or more files will be provided that will be used to deploy the latest HER package version.
How to deploy the files to the system is explained in the sections below.

Every release has a number of format 'fullyear.monthnumber.releasenumber' (ex. '2023.7.0'). Since releases follow a specific order it is also important to deploy them in that order.

# Front end

For the front end a .mtar (ex. 2023.1.0.mtar) file will be provided. This file can be deployed using the cloud foundry cli.
To perform the deploy, follow the steps below.

Make sure CLI is setup correctly, if this is not yet the case follow the steps defined [here](https://docs.cloudfoundry.org/cf-cli/getting-started.html).

1. Authenticate yourself in the Cloud Foundry CLI.

```bash
cf login -a API_URL --SSO
```

We recommend to use the Single Sign-On addition, however the basic authentication can sometimes also be used:

```bash
cf login -a API_URL
```

- `API_URL` is your API endpoint.

2. Target you Organisation and Space where you want the file to be deployed to (if not already choosen after authentication).

```bash
cf target -o ORG -s SPACE
```

- `ORG` is the org you want to target.
- `SPACE` is the space you want to target.

3. Deploy the file to the org and space.

```bash
cf deploy FILE_PATH\FILE_NAME
```

- `FILE_PATH` is the path to the folder where the .mtar file is located.
- `FILE_NAME` is the name of the file provided by the HER package.

After executing the last step the .mtar file will be deployed.
The version of the deployed applications can be seen on the BTP cockpit under the HTML5 Applications tab. To know what applications will be deployed, check the release documentation [here](../Releases/intro).

# Back end

1. Download the both types files for a release, this will be a K*.S4P and R*.S4P file, from [SharePoint](https://cronos.sharepoint.com/:f:/r/teams/flexso/projects/ExternalProjects/HER%20Industry%20Cloud/01.%20Releases?csf=1&web=1&e=iTYrCf).
2. Check the DIR_TRANS directory path and copy this (via AL11).

![AL11](../../static/img/al11.png)

3. Upload the configuration files using transaction CG3Z (the K\*.S4P files), select your co files and paste the DIR_TRANS directory path from before, add `/cofiles/` as subdirectory and end with the file name.

![CG3ZCofiles](../../static/img/cg3z-cofiles.png)

4. Upload the data files using transaction CG3Z (the R\*.S4P files), select your data files and paste the DIR_TRANS directory path from before, add `/data/` as subdirectory and end with the file name.

![CG3ZData](../../static/img/cg3z-data.png)

5. Go to STMS and import the just uploaded transports.
